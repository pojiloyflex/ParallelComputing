# **Отчет по Лабораторной работе №2**

**“Умножение матрицы на матрицу с использованием MPI”**

Выполнили студенты 20ПИ-1, 20ПИ-2

Мингбоев Худайберди, Частова Вероника


# <a name="_heading=h.30j0zll"></a><a name="_heading=h.1fob9te"></a><a name="_heading=h.3znysh7"></a><a name="_heading=h.2et92p0"></a><a name="_heading=h.tyjcwt"></a>**Выполненные задачи**
- Реализован алгоритм параллельного вычисления умножения матриц по строкам.
- Реализован алгоритм параллельного вычисления умножения матриц по столбцам.
- Реализован алгоритм параллельного вычисления умножения матриц по блокам.
- Проверена корректность вычислений на матрицах разных размеров.
- Проведены численные эксперименты с замером времени выполнения при различных размерах входных данных.
- Построены таблицы эффективности и ускорения параллельных программ для каждого алгоритма.
- Построены графики времени выполнения, ускорения и эффективности для каждого алгоритма.
- Предоставлен самодостаточный отчет по проделанной работе.


# <a name="_heading=h.3dy6vkm"></a>**Результаты**
## <a name="_heading=h.1t3h5sf"></a>**Алгоритм умножения матриц по строкам**
В данном алгоритме при исследовании времени выполнения изменялось кол-во строк первой матрицы, представленное в таблице.


|<p></p><p>**Кол-во процессов**</p><p>
**Кол-во строк**</p><p>![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 001](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/1f21fd07-ebbb-45f0-8725-a84d626af2ae)</p>|<p></p><p></p><p>**1**</p>|<p></p><p></p><p>**2**</p>|<p></p><p></p><p>**3**</p>|<p></p><p></p><p>**4**</p>|<p></p><p></p><p>**6**</p>|<p></p><p></p><p>**8**</p>|<p></p><p></p><p>**12**</p>|
| :- | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
|**100**|0\.0014205|0\.0001935|0\.0001523|0\.000279|0\.0004558|0\.0006035|0\.0009825|
|**1000**|0\.002688|0\.0014116 |0\.0010837|0\.0011363|0\.0012492|0\.001862|0\.0023244|
|**10000**|0\.024363|0\.013739|0\.0095158|0\.0080424|0\.0072304|0\.0087557|0\.0089972|
|**100000**|0\.241876|0\.137592|0\.0974328|0\.0896466|0\.0746547|0\.0670827|0\.0636399|
|**1000000**|2\.50207|1\.35472|1\.03045|0\.833899|0\.773636|0\.675237|0\.612114|
|**2000000**|5\.09209|2\.71835|2\.09942|1\.80572|1\.4513|1\.34317|1\.2225|
|**3000000**|7\.29776|4\.05439|3\.08895|2\.61121|2\.12192|2\.01464|1\.81336|

*Таблица 1. Скорости выполнения программы (сек) при разном количестве строк*

*первой матрицы*



|<p></p><p>**Кол-во процессов**</p><p>
**Кол-во строк**</p><p>![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 001](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/1f21fd07-ebbb-45f0-8725-a84d626af2ae)</p>|<p></p><p></p><p>**1**</p>|<p></p><p></p><p>**2**</p>|<p></p><p></p><p>**3**</p>|<p></p><p></p><p>**4**</p>|<p></p><p></p><p>**6**</p>|<p></p><p></p><p>**8**</p>|<p></p><p></p><p>**12**</p>|
| :- | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
|**100**|1|7,341085271|9,326986211|5,091397849|3,116498464|2,353769677|1,445801527|
|**1000**|1|1,904222159|2,480391252|2,365572472|2,151777137|1,443609023|1,156427465|
|**10000**|1|1,773273164|2,560268186|3,029319606|3,369523125|2,782530237|2,70784244|
|**100000**|1|1,757921972|2,482490496|2,698105673|3,239929971|3,60563901|3,800697361|
|**1000000**|1|1,846927778|2,42813334|3,000447296|3,234169558|3,705469339|4,08758826|
|**2000000**|1|1,873228245|2,425474655|2,819977627|3,508640529|3,79109867|4,165308793|
|**3000000**|1|1,799964976|2,362537432|2,794780964|3,439224853|3,622364293|4,024440817|

*Таблица 2. Ускорения на основании таблицы 1*




|<p></p><p>**Кол-во процессов**</p><p>
**Кол-во строк**</p><p>![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 001](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/1f21fd07-ebbb-45f0-8725-a84d626af2ae)</p>|<p></p><p></p><p>**1**</p>|<p></p><p></p><p>**2**</p>|<p></p><p></p><p>**3**</p>|<p></p><p></p><p>**4**</p>|<p></p><p></p><p>**6**</p>|<p></p><p></p><p>**8**</p>|<p></p><p></p><p>**12**</p>|
| :- | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
|**100**|1|3,670542636|3,108995404|1,272849462|0,519416411|0,29422121|0,120483461|
|**1000**|1|0,95211108|0,826797084|0,591393118|0,358629523|0,180451128|0,096368955|
|**10000**|1|0,886636582|0,853422729|0,757329902|0,561587187|0,34781628|0,225653537|
|**100000**|1|0,878960986|0,827496832|0,674526418|0,539988328|0,450704876|0,31672478|
|**1000000**|1|0,923463889|0,80937778|0,750111824|0,53902826|0,463183667|0,340632355|
|**2000000**|1|0,936614123|0,808491552|0,704994407|0,584773422|0,473887334|0,347109066|
|**3000000**|1|0,899982488|0,787512477|0,698695241|0,573204142|0,452795537|0,335370068|

*Таблица 3. Эффективности на основании таблицы 1*



## <a name="_heading=h.4d34og8"></a>**Алгоритм умножения матриц по столбцам**
В данном алгоритме при исследовании времени выполнения изменялось кол-во столбцов первой матрицы, представленное в таблице.


|<p></p><p>**Кол-во процессов**</p><p>
**Кол-во столбцов**</p><p>![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 001](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/1f21fd07-ebbb-45f0-8725-a84d626af2ae)</p>|<p></p><p></p><p>**1**</p>|<p></p><p></p><p>**2**</p>|<p></p><p></p><p>**3**</p>|<p></p><p></p><p>**4**</p>|<p></p><p></p><p>**6**</p>|<p></p><p></p><p>**8**</p>|<p></p><p></p><p>**12**</p>|
| :- | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
|**100**|0\.0000051|0\.0008923|0\.0000065|0\.000249|0\.0002878|0\.0006226|0\.0008047|
|**1000**|0\.0003807|0\.0002725|0\.0002416|0\.0004195|0\.0005814|0\.0009855|0\.0014203|
|**10000**|0\.0035264|0\.0022022|0\.0019513|0\.0018267|0\.0022279|0\.0025096|0\.0031017|
|**100000**|0\.0333725|0\.0212793|0\.0176096|0\.0170082|0\.0168122|0\.0203853|0\.0231581|
|**1000000**|0\.349199|0\.227054|0\.187561|0\.199517|0\.178098|0\.220961|0\.25439|
|**2000000**|0\.692561|0\.454942|0\.385768|0\.368142|0\.373332|0\.428137|0\.48761|
|**3000000**|1\.03397|0\.688193|0\.588912|0\.562404|0\.540027|0\.652138|0\.734015|

*Таблица 4. Скорости выполнения программы (сек) при разном количестве столбцов*

*первой матрицы*

|<p></p><p>**Кол-во процессов**</p><p>
**Кол-во столбцов**</p><p>![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 001](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/1f21fd07-ebbb-45f0-8725-a84d626af2ae)</p>|<p></p><p></p><p>**1**</p>|<p></p><p></p><p>**2**</p>|<p></p><p></p><p>**3**</p>|<p></p><p></p><p>**4**</p>|<p></p><p></p><p>**6**</p>|<p></p><p></p><p>**8**</p>|<p></p><p></p><p>**12**</p>|
| :- | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
|**100**|1|0,005715567|0,784615385|0,020481928|0,017720639|0,008191455|0,006337766|
|**1000**|1|1,39706422|1,575745033|0,907508939|0,654798762|0,38630137|0,268041963|
|**10000**|1|1,601307783|1,807205453|1,930475721|1,582835854|1,40516417|1,136924912|
|**100000**|1|1,568308168|1,895131065|1,96214179|1,985016833|1,637086528|1,441072454|
|**1000000**|1|1,537955729|1,861788965|1,750221786|1,960712641|1,580364861|1,372691537|
|**2000000**|1|1,52230614|1,795278509|1,881233328|1,855080732|1,617615389|1,420317467|
|**3000000**|1|1,502441902|1,755729209|1,838482657|1,914663526|1,585507975|1,408649687|

*Таблица 5. Ускорения на основании таблицы 4*

|<p></p><p>**Кол-во процессов**</p><p>
**Кол-во столбцов**</p><p>![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 001](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/1f21fd07-ebbb-45f0-8725-a84d626af2ae)</p>|<p></p><p></p><p>**1**</p>|<p></p><p></p><p>**2**</p>|<p></p><p></p><p>**3**</p>|<p></p><p></p><p>**4**</p>|<p></p><p></p><p>**6**</p>|<p></p><p></p><p>**8**</p>|<p></p><p></p><p>**12**</p>|
| :- | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
|**100**|1|0,002857784|0,261538462|0,005120482|0,00295344|0,001023932|0,000528147|
|**1000**|1|0,69853211|0,525248344|0,226877235|0,109133127|0,048287671|0,02233683|
|**10000**|1|0,800653892|0,602401818|0,48261893|0,263805976|0,175645521|0,094743743|
|**100000**|1|0,784154084|0,631710355|0,490535448|0,330836139|0,204635816|0,120089371|
|**1000000**|1|0,768977865|0,620596322|0,437555447|0,32678544|0,197545608|0,114390961|
|**2000000**|1|0,76115307|0,59842617|0,470308332|0,309180122|0,202201924|0,118359789|
|**3000000**|1|0,751220951|0,58524307|0,459620664|0,319110588|0,198188497|0,117387474|

*Таблица 6. Эффективности на основании таблицы 4*



## <a name="_heading=h.2s8eyo1"></a>**Алгоритм умножения матриц по блокам**
В данном алгоритме при исследовании времени выполнения изменялось кол-во столбцов и строк первой матрицы, представленное в таблице.

|<p></p><p>**Кол-во строк**</p>|<p></p><p>**Кол-во столбцов**</p>|<p></p><p>**1**</p>|<p></p><p>**2**</p>|<p></p><p>**4**</p>|<p></p><p>**6**</p>|<p></p><p>**8**</p>|<p></p><p>**12**</p>|
| :- | :- | :- | :-: | :-: | :-: | :-: | :-: |
|**1000**|**1000**|0\.0359623|0\.0214741|0\.0161768|0\.0156832|0\.0141899|0\.0158647|
|**1000**|**10000**|0\.343863|0\.212316|0\.154065|0\.137189|0\.125509|0\.128819|
|**1000**|**100000**|3\.44875|2\.87446|1\.52504|1\.4248|1\.19621|1\.1854|
|**10000**|**1000**|0\.340232|0\.211513|0\.145722|0\.136353|0\.127303|0\.128774|
|**10000**|**10000**|3\.43672|2\.12819|1\.49523|1\.3003|1\.1956|1\.12635|
|**100000**|**1000**|3\.39432|2\.15842|1\.54022|1\.35114|1\.2328|1\.17188|

*Таблица 7. Скорости выполнения программы (сек) при разном количестве строк и столбцов входной матрицы*

##

|<p></p><p><a name="_heading=h.17dp8vu"></a>**Кол-во строк**</p>|<p></p><p>**Кол-во столбцов**</p>|<p></p><p>**1**</p>|<p></p><p>**2**</p>|<p></p><p>**4**</p>|<p></p><p>**6**</p>|<p></p><p>**8**</p>|<p></p><p>**12**</p>|
| :- | :- | :- | :-: | :-: | :-: | :-: | :-: |
|**1000**|**1000**|1|1,674682525|2,22307873|2,293046062|2,534358945|2,266812483|
|**1000**|**10000**|1|1,61958119|2,231934573|2,506491045|2,739747747|2,669350018|
|**1000**|**100000**|1|1,199790569|2,261416094|2,42051516|2,88306401|2,909355492|
|**10000**|**1000**|1|1,608563067|2,334801883|2,495229295|2,672615728|2,642086135|
|**10000**|**10000**|1|1,614855816|2,298455756|2,643020841|2,874473068|3,051200781|
|**100000**|**1000**|1|1,572594768|2,203789069|2,512189706|2,753341986|2,896474042|

*Таблица 8. Ускорения на основании таблицы 7*

##

|<p></p><p><a name="_heading=h.3rdcrjn"></a>**Кол-во строк**</p>|<p></p><p>**Кол-во столбцов**</p>|<p></p><p>**1**</p>|<p></p><p>**2**</p>|<p></p><p>**4**</p>|<p></p><p>**6**</p>|<p></p><p>**8**</p>|<p></p><p>**12**</p>|
| :- | :- | :- | :-: | :-: | :-: | :-: | :-: |
|**1000**|**1000**|1|0,837341263|0,555769683|0,382174344|0,316794868|0,18890104|
|**1000**|**10000**|1|0,809790595|0,557983643|0,417748508|0,342468468|0,222445835|
|**1000**|**100000**|1|0,599895285|0,565354024|0,403419193|0,360383001|0,242446291|
|**10000**|**1000**|1|0,804281534|0,583700471|0,415871549|0,334076966|0,220173845|
|**10000**|**10000**|1|0,807427908|0,574613939|0,440503474|0,359309134|0,254266732|
|**100000**|**1000**|1|0,786297384|0,550947267|0,418698284|0,344167748|0,241372837|

*Таблица 9. Эффективности на основании таблицы 7*

# <a name="_heading=h.26in1rg"></a>**Графики**
## <a name="_heading=h.lnxbz9"></a>**Алгоритм умножения матриц по строкам**
![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 003](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/a697c146-127a-4044-bd96-9f1dc3af5cf6)
![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 004](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/11e12729-643a-41e4-9676-2f1d5c7db941)

## <a name="_heading=h.35nkun2"></a>**Алгоритм умножения матриц по столбцам![](Aspose.Words.473e0675-9129-47e3-b578-5d486be4ebf9.006.png)**
![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 005](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/e26dd5a8-158b-4702-9267-a66a36840061)
![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 006](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/9b1d0bf8-95ff-43b6-8a3e-43a6d01ccbcf)
![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 007](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/f893bf14-835e-48d8-965d-3e29566bd4fe)
![image](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/4918bd4b-59be-4771-8e94-83b7c1e52a99)

## <a name="_heading=h.1ksv4uv"></a>**Алгоритм умножения матриц по блокам
![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 009](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/f9922147-f7f1-4495-bf9f-3720dcc6edf1)
![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 010](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/87edb588-10b8-4fa7-ba8b-b9ea3d4b6e8c)
![Aspose Words 473e0675-9129-47e3-b578-5d486be4ebf9 011](https://github.com/pojiloyflex/ParallelComputing/assets/113837245/3e6a1e28-7839-4b1b-a513-4bf8bdcc05e0)


# <a name="_heading=h.44sinio"></a>**Выводы**
В результате исследований были сделаны следующие выводы:

- Самым быстрым алгоритмом (при размере данных в 3 \* 10<sup>6</sup>) является умножение по столбцам. Можно заметить что время выполнения не превышает 0.8 секунд при процессах больше 1.
- Самым медленным алгоритмом стал умножение по строкам. Можно заметить что при процессах больше 1, время выполнения занимает от 1 до 4 секунд.
- Самое большое ускорение показывает алгоритм умножение по строкам. При 12 процессах на 3 \* 10<sup>6</sup> входных строк коэффициент  ускорение превышает 4.
- Самое маленькое ускорение показал алгоритм умножение по столбцам. На всем участке коэффициент ускорение не превышает 2.
- Эффективность больше 1 (при процессах больше 1) показал алгоритм умножение по строкам, однако только при маленьких размерах входных данных. 
- Эффективность всех алгоритмов в среднем имеет схожие значения на одинаковых размерах входных данных. Самым эффективным на всех алгоритмах является выбор 1 процесса в среднем для всех размеров входных данных.
- Самым эффективным выбором для всех алгоритмов (при процессах больше 1) стал выбор 2 процессов.



Четкого распределения ролей по лабораторной работе не было. Процесс имплементации алгоритмов с использованием MPI, проверка гипотез и тестирование системы, а также написание отчета проводилось всеми студентами в равной мере.

[ref1]: Aspose.Words.473e0675-9129-47e3-b578-5d486be4ebf9.001.png
[ref2]: Aspose.Words.473e0675-9129-47e3-b578-5d486be4ebf9.002.png
